<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<meta charset="utf-8"/>
<title>Bootply snippet - Bootstrap Wysiwyg Editor</title>
<meta name="generator" content="Bootply" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="description"
	content="Use bootstrap-wysiwyg with Bootstrap 3." />
<link
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"
	rel="stylesheet"/>

<!-- include libraries(jQuery, bootstrap) -->
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet"/>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script> 
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script> 
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
<script src="https://code.jquery.com/jquery-1.4.1.min.js"></script>

<!-- We need the raterater stylesheet -->
<link th:href="@{/css/raterater.css}" rel="stylesheet"/>
<script th:src="@{/js/raterater.jquery.js}"></script>
<style>
/* Override star colors */
.raterater-bg-layer {
    color: rgba( 0, 0, 0, 0.25 );
}
.raterater-hover-layer {
    color: rgba( 255, 255, 0, 0.75 );
}
.raterater-hover-layer.rated {
    color: rgba( 255, 255, 0, 1 );
}
.raterater-rating-layer {
    color: rgba( 255, 155, 0, 0.75 );
}
.raterater-outline-layer {
    color: rgba( 0, 0, 0, 0.25 );
}
</style>



</head>


<body>
<th:block th:include="fragments/navbar::nav-In"/>
<h1>NOCH KEINE QUIZFRAGEN</h1>
<table>
	<tr>
        <th>FRAGE </th>
        <th>BENUTZER </th>
    </tr>
	<tr th:each="question,iterationStatus  : ${nonquizquestions}">
		<td  class="content" th:utext="${question.getQuestText()}"/>
		<td  class="content" th:utext="${question.getSopraUser().getEmail()}"/> 
        <td >
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId() + '-comment'}" aria-hidden="true">Kommentieren</button>
        </form>
        </td> 
		<td th:if="${isHost and question.getSopraUser()==loginUser}">
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId()} + '-edit'" aria-hidden="true">Ändern</button>
        </form>
        </td> 
        <td th:if="${isHost and question.getSopraUser()==loginUser}">
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId()} + '-delete'" aria-hidden="true">Löschen</button>
        </form>
        </td> 
        <td th:if="${isHost}">
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId()} + '-addquiz'" aria-hidden="true">Für Quiz freigeben</button>
        </form>
        </td> 
        <td>
        	<form name="form-login" th:object="${Rating}" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
					<div class="ratebox" th:attr="data-id=${question.getQuestId()},data-rating=${question.getRating()}" ></div>
					<button th:id="rating" th:name="info" class="btn btn-default"  type="submit" aria-hidden="true">Submit</button>
			 </form>	
		</td>
	</tr>
</table>
<h1>QUIZFRAGEN</h1>
<table>
	<tr>
        <th>FRAGE </th>
        <th>BENUTZER </th>
    </tr>
	<tr th:each="question,iterationStatus  : ${quizquestions}">
		<td  class="content" th:utext="${question.getQuestText()}"/>
		<td  class="content" th:utext="${question.getSopraUser().getEmail()}"/> 
        <td >
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId() + '-comment'}" aria-hidden="true">Kommentieren</button>
        </form>
        </td> 
		<td th:if="${isHost and question.getSopraUser()==loginUser}">
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId()} + '-edit'" aria-hidden="true">Ändern</button>
        </form>
        </td> 
        <td th:if="${isHost and question.getSopraUser()==loginUser}">
        <form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
        	<button class="btn btn-default" type="submit" th:name="info" th:value="${question.getQuestId()} + '-delete'" aria-hidden="true">Löschen</button>
        </form>
        </td> 
        <td>
        	<form name="form-login" th:action="@{/learninggroup/questionlist?name=} + ${name}" method="post">
					<div class="ratebox" th:attr="data-id=${question.getQuestId()},data-rating=${question.getRating()}" ></div>
					<button th:id="${'rating'+question.getQuestId()}" th:name="info" class="btn btn-default" style="display:none" type="submit" aria-hidden="true" >Submit</button>
			 </form>	
		</td>
	</tr>
</table>
<script>

/* This is out callback function for when a rating is submitted
 */
function rateAlert(id, rating)
{
	document.getElementById("rating"+id).style = "";
	document.getElementById("rating"+id).value = id+"-rating-"+rating;
}

	/* Here we initialize raterater on our rating boxes
	 */
	$(function() {
		$('.ratebox').raterater({
			submitFunction : 'rateAlert',
			allowChange : true,
			starWidth : 20,
			spaceWidth : 5,
			numStars : 5
		});
	});
</script>
</body>
</html>