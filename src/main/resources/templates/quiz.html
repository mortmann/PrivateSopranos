<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<meta charset="utf-8"/>
<title>Bootply snippet - Bootstrap Wysiwyg Editor</title>
<meta name="generator" content="Bootply" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="description"
	content="Use bootstrap-wysiwyg with Bootstrap 3." />
<link
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"
	rel="stylesheet"/>
    <link rel="stylesheet" href="bootstrap.css" />
<!-- include libraries(jQuery, bootstrap) -->
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet"/>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script> 
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script> 
<script>
//<![CDATA[
function OnPick(){
	var value = document.getElementById("lgs").value;
	$("#selectedlgs").append('<option onclick="OnDePick()" value="'+value+'">'+value+'</option>');
    $('#lgs').find('[value='+value+']').remove();
	 'Selected: ' +value;	
	activatedButton();
}
function OnDePick(){
	var value = document.getElementById("selectedlgs").value;
	$("#lgs").append('<option onclick="OnPick()" value="'+value+'">'+value+'</option>');
    $('#selectedlgs').find('[value='+value+']').remove();
	document.getElementById('d').innerHTML= 'Deselected: ' +value;
	activatedButton();
}
function OnNumber(){
	activatedButton();
}

function activatedButton(){
	var val = document.getElementById('number').value;
	if(isNaN(val) || isNormalInteger(val) == false){
		document.getElementById("button").disabled=true;
		document.getElementById("questioncount").style.color="red";
		return;
	}else {
		document.getElementById("questioncount").style.color="black";
		document.getElementById("button").disabled=false;
	}

	var arr = [];
	$("#selectedlgs > option").each(function(){
	   arr.push(this.value);
	});
	if(arr.length==0){
		document.getElementById("button").disabled=true;
	}else {
		document.getElementById("button").disabled=false;
		document.getElementById("button").value = arr.toString();
	}
}
function isNormalInteger(str) {
    var n = ~~Number(str);
    return String(n) === str&&n>0&&n<51;
}
function OnCheckbox(){
	if(document.getElementById("open").checked==false){
		document.getElementById("closed").checked=true;
		document.getElementById("closed").disabled=true;
	} else {
		document.getElementById("closed").disabled=false;
	}
	if(document.getElementById("closed").checked==false){
		document.getElementById("open").checked=true;
		document.getElementById("open").disabled=true;
	} else {
		document.getElementById("open").disabled=false;
	}
}

//]]>
</script>

</head>


<body>
<th:block th:include="fragments/navbar::nav-In"/>
<form name="get" th:action="@{/quiz}" method="post">
<h1>Anzahl der Fragen</h1>
	<input type="text" th:name="count"  id="number" pattern="[1-9]\d*" min="1" max="50" th:value="10" oninput="OnNumber()"/>
	<label id="questioncount">1-50 Fragen</label>
<h1>Typ der Fragen</h1>
	<label>Offene</label>
	<input type="checkbox" id="open" th:name="open" th:checked="true" onclick="OnCheckbox()"/>
	<label>Multiple Choice</label>
	<input type="checkbox" id="closed" th:name="closed" th:checked="true" onclick="OnCheckbox()"/>
<h1>Gruppen</h1>
	<div id="d">
</div>
	<div class="col-lg-3">
		<select id="lgs" data-placeholder="W채hle Gruppen f체r das Quiz:" class="chosen-select"
			multiple="multiple" tabindex="4" style="min-width: 150px;">
			<option th:each="l,iterationStatus  : ${groups}" th:utext="${l.getName()}" th:value="${l.getName()}" onclick="OnPick()"></option>
		</select>
	</div>
	<div class="col-lg-3">
		<select id="selectedlgs" data-placeholder="W채hle Gruppen f체r das Quiz:" class="chosen-select"
			multiple="multiple" tabindex="4" style="min-width: 150px;">
		</select>
	</div>
		<button class="btn btn-default" type="submit" id="button" th:name="info" disabled="disabled">Quiz erstellen</button>
</form>
</body>
</html>